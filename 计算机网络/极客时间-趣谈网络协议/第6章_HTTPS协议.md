## 对称加密
加密和解密使用同一密钥。  
>存在传递密钥的安全性问题。

## 非对称加密
加密和解密使用不同的密钥。一把叫公开密钥，另一把叫私有密钥。用公钥加密的信息只有私钥能解开，用私钥加密的信息只有公钥能解开。  
>存在加密解密耗时长的效率问题。  
每个人都可以创建自己的公钥和私钥。

## 数字证书
>解决问题：作为普通公民如何鉴别一个公开网站发给自己的公钥是正确的，而不是黑客为了窃取自己的信息而冒充的网站公钥？

网站要证明自己的公钥是正确的，需要有证书证明，这个证书由权威机构**CA**(Certificate Authority)颁发。

证书中有**公钥**、证书的**所有者**、**发布机构**、证书的**有效期**、**签名算法**。

拿到网站的证书后，使用证书的发布机构CA的公钥对数字签名进行解密，然后进行Hash查找，和本地（OS中）的证书的签名进行比对，如果比对成功，说明这个证书的确是权威认证的，网站发给自己的公钥可靠，可以使用。于是就可以使用这个公钥进行非对称加密传输。

## HTTPS工作模式
HTTPS本身不是新的协议，而是建立在HTTP的基础上，在HTTP与TCP之间加了SSL（Secure Socket Layer）层，让HTTP跟SSL进行通信，然后SSL再和TCP进行通信，即使用隧道进行通信。  

通过使用SSL，HTTPS具有加密（防窃听）、认证（防伪装）、完整性保护（防篡改）的优势。
>加密体现在混合加密方式，认证体现在数字证书的验证（检验对方公钥的权威性），完整性保护体现在报文摘要的引入（一旦内容被篡改，摘要对不上号，便直接舍弃这个信息）。

### 混合加密
HTTPS是混合了非对称加密与对称加密的HTTP协议。使用非对称密钥加密是为了对称密钥的安全传输。之后使用对称密钥加密进行通信是为了保证通信过程的效率。

从非对称加密到对称加密的过程如下：  
1. 浏览器向服务器发送HTTPS连接请求，发送的信息中还包括了自己所有的加密算法和一个随机数ranA
2. 服务器收到请求后，向客户端发送证书（包含自己的公钥），发送的信息中还包含了自己认为的加密程度最高的加密算法和自己生成的随机数ranB
3. 客户端验证了网站的公钥可靠后，再次计算生成另一个随机数Pre-master，用服务器的公钥加密后发给服务器
4. 客户端和服务端根据同一套加密算法和这3个随机数ranA、ranB、Pre-master计算出对称密钥Session Key，使用服务端的公钥加密后，发送给服务器
5. 服务器使用自己的私钥解密后，得到客户端生成的Session Key，返回确认报文，意思是确认使用这个Session Key
6. 双方开始使用这个Session Key进行对称加密信息传输。

### 完整性保护
体现在SSL的报文摘要功能上。   

HTTP也提供了MD5报文摘要功能，但不安全，一旦内容被篡改，同时也会重新计算MD5的值，通信接收方无法发现内容被篡改。   

SSL的报文摘要的安全性依赖于加密和认证，加密后的信息即使被篡改，由于看不到明文，故无法重新计算报文摘要。

## HTTPS的缺点
* 由于要进行加密解密操作，速度较慢。
* 要支付高昂的证书授权费用。
