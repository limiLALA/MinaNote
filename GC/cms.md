## 版本
## 概述
CMS(Concurrent Mark-Sweep)是以 **牺牲吞吐量** 为代价来获得 **最短回收停顿时间（STW）** 的垃圾回收器。
适用于响应速度要求高的服务器。目的在于减少stw时间，减少 full gc 发生的几率

## 使用三色标记法
>所谓三色标记法就是
黑色：该对象已经被标记，内部的引用也已经被标记处理完毕
灰色：该对象已经被标记，内部的引用还没处理好
白色：该对象未被标记




## 重要步骤
### 标记阶段一共有四个步骤
> 初始标记，并发标记，并发预清理，最终标记

## 初始标记,需要stw
>首先stw
然后扫描gc root **直接关联** 的对象，做标记。

## 并发标记，不需要stw，gc线程和用户线程一起运行
> 在初始标记的基础上继续向下追溯
此时gc线程和用户线程并发执行，不会stw
使用类似于卡表的技术对引用出现变化的对象标记为灰色
新生代可能发生引用变化，也可能升级到老年代，此时就会标记为灰色

## 并发预清理
>这个阶段是为了尽可能降低最终标记的负担
因此会再次扫描灰色对象将引用变化进行处理，尽可能多的减少灰色对象，从而降低最后stw的时间


## 重新并发标记 需要stw
> 根据gcroot进行并发追溯。
1.遍历新生代对象，重新标记
2.根据GC Roots，重新标记
3.遍历老年代的Dirty Card，重新标记，这里的Dirty Card大部分已经在clean阶段处理过

## 并发清理
## 并发重置
