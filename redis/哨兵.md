## redis如何实现高可用
采用主从,使用哨兵对集群进行监控
写的时候写主,然后异步同步到从redis中去

## 什么是哨兵
哨兵本身也是一个集群,彼此通过心跳交换信息.同时监控redis leader的状态

## 选主
通过哨兵切换主从分为两步
1.如果超过半数认为leader主观下线,那么就会认为leader客观下线.此时会开始选举.
选举需要推选出一个哨兵来执行.
选举切换执行者的过程很简单,先判断出客观下线的就会告知其他哨兵,大多数的同意了就当选

2.redis选主比较麻烦.会根据多个条件进行判定
包括断开连接时长、优先级排序、复制数量、进程id
优先级是配在配置文件里头的
复制数量就是主从同步的时候看哪个Slave复制的多,日志id大.
最后看进程id
