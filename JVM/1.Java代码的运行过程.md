# Java代码运行过程
1. 编写.java代码文件，比如demo.java
2. 编译，生成.class字节码文件，如demo.class
3. 创建一个JVM进程，用类加载器将.class文件中的类加载到JVM的内存中
4. JVM执行类中的代码。

# 字节码翻译成机器码的2种方式
* 解释执行：逐条将字节码翻译成机器码并执行。
>执行次数较少的代码使用解释执行

* 即时编译：类似于预编译，将整个方法包含的所有字节码翻译成机器码后再执行。
>频繁执行的代码（热点代码）使用即时编译。

> **HotSpot** 采用混合模式，先解释执行字节码，而后将其中反复执行的热点代码，以方法为单位进行即时编译。

# 标准JDK的HotSpot虚拟机内置的即时编译器
## C1
Client编译器，对启动性能有较高要求的客户端GUI程序，优化手段简单，因此编译时间较短。

## C2
Server编译器，对峰值性能有要求的服务器端程序，优化手段复杂吗，因此编译时间较长，但是生成代码的执行效率高

## Graal
Java 10引入的实验性即时编译器。

# C++与Java的编译策略
C++的策略是直接编译成目标架构(x86/ARM)的机器码，Java的策略是编译成虚拟架构(JVM)的机器码.

Java的编译策略可以通过物理方法实现(Java Processor)，也可以通过软件方法实现。

Java编译后的虚拟架构的机器码必须通过JVM转换到对应平台格式的机器码才能在机器上执行。

# 为什么使用JVM
1. 为了轻松实现Java代码的跨平台执行。
2. JVM提供了一个托管平台，提供内存管理、垃圾回收、编译时动态校验等功能。
3. 使用JVM让我们的编程工作更轻松，有效节省公司成本，提升整体效率。我们只关注业务相关的程序逻辑的编写，其他业务无关但对于编程同样重要的东西交给JVM去处理。
